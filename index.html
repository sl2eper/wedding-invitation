<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="i18n-title">ì €í¬ ê²°í˜¼í•©ë‹ˆë‹¤.</title>

    <!-- SNS / ì¹´ì¹´ì˜¤í†¡ ë¯¸ë¦¬ë³´ê¸° ì„¤ì • -->
    <meta property="og:title" content="íƒœìš©ì´ íš¨ê²½ì´ ê²°í˜¼í•©ë‹ˆë‹¤.">
    <meta property="og:description" content="ë³´ì´ìŠ¤ í”¼ì‹± ì•„ë‹™ë‹ˆë‹¤..ì§„ì§œ ì €ì—ìš”..">
    <meta property="og:image" content="https://raw.githubusercontent.com/sl2eper/wedding-assets/main/preview.jpg">
    <meta property="og:url" content="https://taeyonghyokyung.love">
    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="íƒœìš©ì´ íš¨ê²½ì´ ê²°í˜¼í•©ë‹ˆë‹¤.">
    <meta name="twitter:description" content="ë³´ì´ìŠ¤ í”¼ì‹± ì•„ë‹™ë‹ˆë‹¤..ì§„ì§œ ì €ì—ìš”..">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/sl2eper/wedding-assets/main/preview.jpg">

    <!-- 1. í°íŠ¸ ë¡œë“œ -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;700&family=Nanum+Pen+Script&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* [ë ˆì´ì•„ì›ƒ ìˆ˜ì •]: HTML/BODYì— ëª…ì‹œì ì¸ ë†’ì´ì™€ ìŠ¤í¬ë¡¤ ì„¤ì •ìœ¼ë¡œ ì½˜í…ì¸  ì§¤ë¦¼ ë°©ì§€ */
        html {
            height: 100%; 
        }
        body {
            font-family: 'Noto Serif KR', serif; 
            background-color: #f7f3f0; /* ë¶€ë“œëŸ¬ìš´ ë°°ê²½ìƒ‰ */
            min-height: 100%; /* ìµœì†Œ ë†’ì´ ì„¤ì • */
            overflow-y: auto; /* ìˆ˜ì§ ìŠ¤í¬ë¡¤ ëª…ì‹œì  í™œì„±í™” */
            overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
        }
        /* ì˜¤í”„ë‹ ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #f7f3f0;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 1.5s ease-out;
            cursor: pointer; /* í´ë¦­ ê°€ëŠ¥í•˜ë‹¤ëŠ” í‘œì‹œ */
        }
        /* í´ë¦­ ìœ ë„ í…ìŠ¤íŠ¸ */
        .click-hint {
            position: absolute;
            bottom: 20%;
            font-size: 1rem;
            color: #8d6e63;
            animation: blink 2s infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .splash-text {
            /* ì†ê¸€ì”¨ í°íŠ¸ ì ìš© */
            font-family: 'Nanum Pen Script', cursive;
            font-size: 3.5rem; 
            color: #5d4037; /* ì§„í•œ ê°ˆìƒ‰ */
            animation: fadeInOut 4s forwards;
            text-align: center;
            line-height: 1.3;
        }
        /* "ê²°í˜¼" ê°•ì¡° ìŠ¤íƒ€ì¼ */
        .splash-highlight {
            font-size: 5rem;
            color: #d81b60; /* ë¶‰ì€ìƒ‰ í¬ì¸íŠ¸ */
            display: inline-block;
            margin: 5px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        /* ì¼ë°˜ í…ìŠ¤íŠ¸ (ê·¸ë ‡ê²Œ ëë‹¤..) ìŠ¤íƒ€ì¼ */
        .splash-sub {
            font-size: 2.5rem;
            color: #8d6e63;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: scale(0.9); }
            20% { opacity: 1; transform: scale(1); }
            80% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(1.1); }
        }
        .hidden-splash {
            opacity: 0 !important;
            pointer-events: none;
        }

        /* ê°•ì¡° í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .highlight-text {
            color: #b28c70;
            font-weight: 600;
        }

        /* ë§µ Placeholder ìŠ¤íƒ€ì¼ */
        .map-placeholder {
            height: 250px;
            background: linear-gradient(135deg, #e0e0e0, #f0f0f0);
            border: 2px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #888;
            font-size: 0.9rem;
        }
        /* ë¡œë˜ ë³¼ ë””ìì¸ì„ ìœ„í•œ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
        .lotto-ball {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
        
        /* ë¡œë”© ìŠ¤í”¼ë„ˆ ìŠ¤íƒ€ì¼ */
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #ffffff;
            width: 20px;
            height: 20px;
            -webkit-animation: spin 1s linear infinite; /* Safari */
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ê·€ì—¬ìš´ ë²„íŠ¼ í°íŠ¸ ìŠ¤íƒ€ì¼ */
        .cute-font {
            font-family: 'Nanum Pen Script', cursive;
            font-size: 1.5rem; /* í°íŠ¸ íŠ¹ì„±ìƒ í¬ê¸°ë¥¼ ì¢€ ë” í‚¤ì›€ */
            letter-spacing: 1px;
        }

        /* í”Œë¡œíŒ… ì´ëª¨í‹°ì½˜ ì• ë‹ˆë©”ì´ì…˜ */
        .floating-emoji {
            position: fixed;
            pointer-events: none;
            animation: floatUp 2s ease-out forwards;
            font-size: 2rem;
            z-index: 9999;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(0.5); opacity: 1; }
            50% { transform: translateY(-100px) scale(1.2); opacity: 0.8; }
            100% { transform: translateY(-200px) scale(1); opacity: 0; }
        }
        
        /* í¬ì¶˜ ì¿ í‚¤ ì• ë‹ˆë©”ì´ì…˜ */
        .shake-slow {
            animation: shake-slow 2s infinite ease-in-out;
        }
        @keyframes shake-slow {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }

        /* ì¶•í•˜ ì¹´ìš´íŠ¸ ì• ë‹ˆë©”ì´ì…˜ */
        .count-bump {
            animation: bump 0.3s ease-out;
        }
        @keyframes bump {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* ë®¤ì§ í”Œë ˆì´ì–´ ìŠ¤íƒ€ì¼ */
        .music-btn {
            animation: spin-slow 4s linear infinite;
        }
        .music-btn.paused {
            animation-play-state: paused;
            opacity: 0.6;
        }
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
    <!-- Firebase SDK ë¡œë“œ -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, serverTimestamp, setLogLevel, doc, setDoc, updateDoc, increment, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firestore ë””ë²„ê·¸ ë ˆë²¨ ì„¤ì •
        setLogLevel('Debug');

        // ì „ì—­ ë³€ìˆ˜ ì„¤ì • (Canvas í™˜ê²½ì—ì„œ ì œê³µë¨)
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = {
  apiKey: "AIzaSyDVtkNVU5r68xcIvbjST909GjBJhUEDiPQ",
  authDomain: "wedding-contact-c081b.firebaseapp.com",
  projectId: "wedding-contact-c081b",
  storageBucket: "wedding-contact-c081b.firebasestorage.app",
  messagingSenderId: "252395846038",
  appId: "1:252395846038:web:0838c4c9a5ebd0aee885b7",
  measurementId: "G-S6LLLTWL1M"
};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        const apiKey = "AIzaSyBSqS-YE-ejUoW1R1bhwDqxlrT_RVmm1CY"; // Gemini API Key (Environment provided)

        let db, auth;
        let userId = null;
        let isAuthReady = false;

        // Gemini API í˜¸ì¶œ í•¨ìˆ˜
        async function callGemini(prompt) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                });
                const data = await response.json();
                return data.candidates?.[0]?.content?.parts?.[0]?.text || null;
            } catch (error) {
                console.error("Gemini API Error:", error);
                return null;
            }
        }

        // ë‹¤êµ­ì–´ ë²ˆì—­ ë°ì´í„°
        const translations = {
            ko: {
                title: "ì €í¬ ê²°í˜¼í•©ë‹ˆë‹¤.",
                splash_text: `ë‚˜...<br><span class="splash-highlight">ê²°í˜¼</span>í•˜ê²Œ ëì–´..<br><br><span class="splash-sub">ê·¸ë ‡ê²Œ ëë‹¤..</span>`,
                splash_hint: "í™”ë©´ì„ í´ë¦­í•˜ë©´ ì²­ì²©ì¥ì´ ì—´ë¦½ë‹ˆë‹¤ ğŸ’Œ",
                main_title: "ì €í¬ ê²°í˜¼í•©ë‹ˆë‹¤.",
                intro_text: `ì„œë¡œë¥¼ í–¥í•œ ë¯¿ìŒ ì•„ë˜<br>ì†Œì¤‘í•œ ê°€ì •ì„ ê¾¸ë¦¬ë ¤ í•©ë‹ˆë‹¤.<br>ì‘ì€ ê¸°ì¨ì´ í° í–‰ë³µì´ ë˜ë„ë¡<br>ì¡´ì¤‘í•˜ê³  ë°°ë ¤í•˜ë©° ì‚´ê² ìŠµë‹ˆë‹¤.<br>ë”°ëœ»í•œ ê²©ë ¤ë¡œ ì¶•ë³µí•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.<br><br><span class="font-bold text-gray-500 text-sm">ì €ë¥¼ ì§ì‚¬ë‘í•˜ì…¨ë˜ ë¶„ë“¤ê»˜ëŠ”<br>ë¯¸ì•ˆí•œ ë§ˆìŒë¿ì…ë‹ˆë‹¤. ğŸ™</span>`,
                date_text: "2025ë…„ 12ì›” 20ì¼ (í† )",
                time_text: "ì˜¤í›„ 3ì‹œ 00ë¶„",
                venue_text: "ì‹ ë„ë¦¼ ì›¨ë”©ì‹œí‹° (11ì¸µ ê·¸ëœë“œ ë³¼ë£¸)",
                groom_bride: "ì‹ ë‘ ì„íƒœìš© â€¢ ì‹ ë¶€ ê³ íš¨ê²½",
                groom_parents: "ì‹ ë‘ í˜¼ì£¼: ì„ì§„í˜¸ Â· ë°•í˜„ì„ ",
                bride_parents: "ì‹ ë¶€ í˜¼ì£¼: ê³ íšŒì¢… Â· ë°•ì„ ì˜¥",
                location_title: "ì°¾ì•„ì˜¤ì‹œëŠ” ê¸¸",
                address: "ì£¼ì†Œ: ì„œìš¸ êµ¬ë¡œêµ¬ ìƒˆë§ë¡œ 97 ì‹ ë„ë¦¼ í…Œí¬ë…¸ë§ˆíŠ¸ 11ì¸µ",
                map_placeholder: "[ì§€ë„ ì˜ì—­]<br>ì´ê³³ì— ì¹´ì¹´ì˜¤/ë„¤ì´ë²„ ì§€ë„ Embed ì½”ë“œë¥¼ ì‚½ì…í•´ ì£¼ì„¸ìš”.<br>(ì˜ˆ: ì‹ ë„ë¦¼ ì›¨ë”©ì‹œí‹°)",
                directions_subway: "â€¢ ì§€í•˜ì² : 1/2í˜¸ì„  ì‹ ë„ë¦¼ì—­ 2ë²ˆ ì¶œêµ¬ ë„ë³´ 3ë¶„",
                directions_car: "â€¢ ì£¼ì°¨: ì‹ ë„ë¦¼ í…Œí¬ë…¸ë§ˆíŠ¸ ì§€í•˜ì£¼ì°¨ì¥ ì´ìš© (B3~B7)",
                directions_link: "ìì„¸í•œ ë‚´ìš©ì€ ì§€ë„ ë§í¬ë¥¼ í´ë¦­í•´ì£¼ì„¸ìš”. ğŸ‘†",
                gift_title: "ì¶•í•˜ì˜ ë§ˆìŒ ì „ë‹¬í•˜ê¸°",
                account_groom: "ğŸ¤µ ì‹ ë‘ ê³„ì¢Œë²ˆí˜¸",
                account_bride: "ğŸ‘° ì‹ ë¶€ ê³„ì¢Œë²ˆí˜¸",
                crypto_wallet: "â‚¿ ì‹ ë‘ ì•”í˜¸í™”í ì§€ê°‘",
                copy_button: "ë³µì‚¬",
                guestbook_title: "ë°©ëª…ë¡ ë‚¨ê¸°ê¸°",
                guestbook_loading: "ë°©ëª…ë¡ ë¡œë”© ì¤‘...",
                guestbook_placeholder_name: "ì´ë¦„ (ì˜ˆ: ì¹œêµ¬ ê¹€ì¸ì§)",
                guestbook_placeholder_message: "ì¸ì§ë§Œìˆ™ ê²°í˜¼í•  ì¤„ ì•Œì•˜ë‹¤ ì¶•í•˜í•œë‹¤! ğŸ‰",
                guestbook_submit: "ë©”ì‹œì§€ ë“±ë¡",
                lotto_title: "ì‹ ë‘ì´ ë“œë¦¬ê³  ì±…ì„ì€ ì•ˆì§€ëŠ” ì¸ìƒì—­ì „ ë²ˆí˜¸ âœ¨",
                lotto_note: "í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨(F5)í•˜ê±°ë‚˜ ë‹¤ì‹œ ë°©ë¬¸í•˜ë©´ í–‰ìš´ ë²ˆí˜¸ê°€ ë°”ë€ë‹ˆë‹¤. ğŸ€",
                outfit_title: "ì˜¤ëŠ˜ì˜ í•˜ê°ë£© ì¶”ì²œ (AI) ğŸ‘—",
                outfit_input_placeholder: "ìŠ¤íƒ€ì¼ ì…ë ¥ (ì˜ˆ: ë´„, í˜¸í…”, ì‹œí¬)",
                outfit_button: "ì¶”ì²œë°›ê¸°!", 
                outfit_loading: "AIê°€ ì˜·ì¥ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...",
                outfit_result_men: "ğŸ¤µ ë‚¨ì„± ì¶”ì²œ",
                outfit_result_women: "ğŸ‘© ì—¬ì„± ì¶”ì²œ",
                outfit_default_men_name: "í´ë˜ì‹ ë„¤ì´ë¹„ ìˆ˜íŠ¸",
                outfit_default_men_desc: "ê°€ì¥ ì‹¤íŒ¨ ì—†ëŠ” ì„ íƒ, ë‹¨ì •í•˜ê³  ê¹”ë”í•˜ê²Œ!",
                outfit_default_women_name: "ë‹¨ì•„í•œ íŠ¸ìœ„ë“œ ì›í”¼ìŠ¤",
                outfit_default_women_desc: "ê²©ì‹ ìˆëŠ” ìë¦¬ì— ì™„ë²½í•œ ìš°ì•„í•¨.",
                outfit_closing: "ì¦ê±°ìš´ í•˜ë£¨ ë˜ì‹œê³  ì˜ˆì‹ì¥ì—ì„œ ëµ™ê² ìŠµë‹ˆë‹¤! ğŸ˜Š",
                lol_title: "ì˜¤ëŠ˜ì˜ LoL ì±”í”¼ì–¸ ì¶”ì²œ âš”ï¸",
                lol_note: "â€» ì˜¤ëŠ˜ì˜ ìš´ì„¸ë¥¼ LoL ì±”í”¼ì–¸ì—ê²Œ ë§¡ê²¨ë³´ì„¸ìš”!",
                footer_copyright: "Â© 2025. ì„íƒœìš© & ê³ íš¨ê²½. All Rights Reserved.",
                footer_thanks: "ì €í¬ì˜ ìƒˆë¡œìš´ ì‹œì‘ì— í•¨ê»˜ í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.",
                msg_input_error: "ì´ë¦„ê³¼ ì¶•í•˜ ë©”ì‹œì§€ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”! âœï¸",
                msg_outfit_input_error: "ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”! (ì˜ˆ: ë´„, ì •ì¥)",
                msg_submit_success: "ì†Œì¤‘í•œ ì¶•í•˜ ë©”ì‹œì§€ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤! â¤ï¸",
                msg_submit_error: "ë©”ì‹œì§€ ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
                msg_auth_error: "âš ï¸ ë°©ëª…ë¡ ë¡œë“œ ì˜¤ë¥˜. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
                msg_db_error: "âš ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ì˜¤ë¥˜ë¡œ ë°©ëª…ë¡ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
                msg_db_load_error: "âš ï¸ ë°©ëª…ë¡ ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ.",
                msg_db_not_ready: "âš ï¸ ë¡œë”© ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
                msg_no_guestbook: "ì €í¬ë¥¼ ì¶•í•˜í•´ì£¼ì„¸ìš”! âœ¨",
                msg_copy_success: "ë³µì‚¬ ì™„ë£Œ!",
                msg_copy_fail: "ë³µì‚¬ ì‹¤íŒ¨! ê³„ì¢Œë²ˆí˜¸ë¥¼ ê¸¸ê²Œ ëˆŒëŸ¬ ì§ì ‘ ë³µì‚¬í•´ ì£¼ì„¸ìš”.",
                msg_confirm: "í™•ì¸",
                msg_just_now: "ë°©ê¸ˆ ì „",
                fortune_title: "ê²°í˜¼ì‹ ë‚  ë‚˜ì˜ í–‰ìš´ ë½‘ê¸° ğŸ”®",
                fortune_btn: "ì˜¤ëŠ˜ì˜ ìš´ì„¸ í™•ì¸í•˜ê¸°!",
                fortune_placeholder: "ì¹´ë“œë¥¼ ë’¤ì§‘ì–´ í–‰ìš´ì„ í™•ì¸í•˜ì„¸ìš”!",
                celebration_label: "ì¶•í•˜í•´ìš”! â¤ï¸",
                acc_groom_num: "3333-01-1925952 (ì¹´ì¹´ì˜¤ ë±…í¬)",
                acc_bride_num: "3333-06-0460803 (ì¹´ì¹´ì˜¤ ë±…í¬)"
            },
            zh: {
                title: "æˆ‘ä»¬ç»“å©šäº†!",
                splash_text: `æˆ‘...<br>è¦<span class="splash-highlight">ç»“å©š</span>äº†..<br><br><span class="splash-sub">å°±æ˜¯è¿™æ ·..</span>`,
                splash_hint: "ç‚¹å‡»å±å¹•æ‰“å¼€è¯·æŸ¬ ğŸ’Œ",
                main_title: "æˆ‘ä»¬ç»“å©šäº†!",
                intro_text: "åœ¨å½¼æ­¤çš„ä¿¡ä»»ä¸‹ï¼Œæˆ‘ä»¬å†³å®šç»„å»ºçè´µçš„å®¶åº­ã€‚<br>ä¸ºäº†è®©å°ç¡®å¹¸æ±‡èšæˆå¤§å¹¸ç¦ï¼Œ<br>æˆ‘ä»¬å°†äº’ç›¸å°Šé‡ã€ä½“è°…åœ°ç”Ÿæ´»ã€‚<br>è¯·ç”¨æ¸©æš–çš„é¼“åŠ±ç¥ç¦æˆ‘ä»¬ã€‚<br><br><span class='font-bold text-gray-500 text-sm'>å¯¹é‚£äº›æ›¾ç»æš—æ‹è¿‡æˆ‘çš„äººï¼Œ<br>æˆ‘åªèƒ½è¯´å£°æŠ±æ­‰äº†ã€‚ğŸ™</span>",
                date_text: "2025å¹´ 12æœˆ 20æ—¥ (å…­)",
                time_text: "ä¸‹åˆ 3:00",
                venue_text: "æ–°é“æ— Wedding City (11æ¥¼ Grand Ballroom)",
                groom_bride: "æ–°éƒ æ—æ³°å‹‡ â€¢ æ–°å¨˜ é«˜å­äº¬",
                groom_parents: "æ–°éƒçˆ¶æ¯: æ—é•‡æµ© Â· æœ´è´¤å–„",
                bride_parents: "æ–°å¨˜çˆ¶æ¯: é«˜ä¼šé’Ÿ Â· æœ´å–„ç‰",
                location_title: "äº¤é€šæŒ‡å—",
                address: "åœ°å€: é¦–å°”ç‰¹åˆ«å¸‚ ä¹è€åŒº æ–°æ‘è·¯ 97 æ–°é“æ— Technomart 11æ¥¼",
                map_placeholder: "[åœ°å›¾åŒºåŸŸ]<br>è¯·åœ¨æ­¤å¤„æ’å…¥ Kakao/Naver åœ°å›¾åµŒå…¥ä»£ç ã€‚<br>(ä¾‹å¦‚: æ–°é“æ— Wedding City)",
                directions_subway: "â€¢ åœ°é“: 1/2å·çº¿ æ–°é“æ—ç«™ 2å·å‡ºå£ æ­¥è¡Œ 3åˆ†é’Ÿ",
                directions_car: "â€¢ åœè½¦: è¯·ä½¿ç”¨æ–°é“æ— Technomart åœ°ä¸‹åœè½¦åœº (B3~B7)",
                directions_link: "è¯·ç‚¹å‡»åœ°å›¾é“¾æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚ ğŸ‘†",
                gift_title: "é€ä¸Šç¥ç¦çš„å¿ƒæ„",
                account_groom: "ğŸ¤µ æ–°éƒ é“¶è¡Œè´¦å·",
                account_bride: "ğŸ‘° æ–°å¨˜ é“¶è¡Œè´¦å·",
                crypto_wallet: "â‚¿ æ–°éƒ åŠ å¯†è´§å¸é’±åŒ…",
                copy_button: "å¤åˆ¶",
                guestbook_title: "ç•™è¨€ç°¿ (ç•™ä¸‹ç¥ç¦)",
                guestbook_loading: "ç•™è¨€ç°¿åŠ è½½ä¸­...",
                guestbook_placeholder_name: "å§“å (ä¾‹å¦‚: æœ‹å‹ æ´ªå‰ç«¥)",
                guestbook_placeholder_message: "è¡·å¿ƒç¥è´ºä¸¤ä½ç»“å©š! ğŸ‰",
                guestbook_submit: "æ³¨å†Œç•™è¨€",
                lotto_title: "æ–°éƒèµ é€çš„å¹¸è¿å·ç  âœ¨",
                lotto_note: "åˆ·æ–°é¡µé¢æˆ–å†æ¬¡è®¿é—®æ—¶ï¼Œå¹¸è¿å·ç ä¼šå˜åŒ–ã€‚ ğŸ€",
                outfit_title: "ä»Šæ—¥å®¾å®¢ç€è£…æ¨è (AI) ğŸ‘—",
                outfit_input_placeholder: "è¾“å…¥é£æ ¼ (ä¾‹å¦‚: æ˜¥å¤©, é…’åº—, å¸…æ°”)",
                outfit_button: "è·å–æ­é…å»ºè®®!", 
                outfit_loading: "AI æ­£åœ¨åˆ†æè¡£æ©±...",
                outfit_result_men: "ğŸ¤µ ç”·å£«æ¨è",
                outfit_result_women: "ğŸ‘© å¥³å£«æ¨è",
                outfit_default_men_name: "ç»å…¸æµ·å†›è“è¥¿è£…",
                outfit_default_men_desc: "æœ€ç¨³å¦¥çš„é€‰æ‹©ï¼Œç«¯åº„æ•´æ´ï¼",
                outfit_default_women_name: "ä¼˜é›…ç²—èŠ±å‘¢è¿è¡£è£™",
                outfit_default_women_desc: "é€‚åˆæ­£å¼åœºåˆçš„å®Œç¾ä¼˜é›…ã€‚",
                outfit_closing: "ç¥æ‚¨åº¦è¿‡æ„‰å¿«çš„ä¸€å¤©ï¼Œæˆ‘ä»¬åœ¨å©šç¤¼ç°åœºè§! ğŸ˜Š",
                lol_title: "ä»Šæ—¥ LoL è‹±é›„æ¨è âš”ï¸",
                lol_note: "â€» æŠŠä»Šæ—¥çš„è¿åŠ¿äº¤ç»™ LoL è‹±é›„å§!",
                footer_copyright: "Â© 2025. æ—æ³°å‹‡ & é«˜å­äº¬. All Rights Reserved.",
                footer_thanks: "æ„Ÿè°¢æ‚¨ä»¬å’Œæˆ‘ä»¬ä¸€èµ·å¼€å¯æ–°çš„ç¯‡ç« ã€‚",
                msg_input_error: "è¯·è¾“å…¥å§“åå’Œç¥ç¦ç•™è¨€! âœï¸",
                msg_outfit_input_error: "è¯·è¾“å…¥æ‚¨æƒ³è¦çš„é£æ ¼! (ä¾‹å¦‚: æ˜¥å¤©, æ­£è£…)",
                msg_submit_success: "æ‚¨çš„ç¥ç¦å·²æˆåŠŸæäº¤ã€‚è°¢è°¢! â¤ï¸",
                msg_submit_error: "æäº¤ç•™è¨€æ—¶å‘ç”Ÿé”™è¯¯ã€‚è¯·ç¨åé‡è¯•ã€‚",
                msg_auth_error: "âš ï¸ ç•™è¨€ç°¿åŠ è½½é”™è¯¯ã€‚è¯·ç¨åé‡è¯•ã€‚",
                msg_db_error: "âš ï¸ æ•°æ®åº“é…ç½®é”™è¯¯ï¼Œç•™è¨€ç°¿åŠŸèƒ½æ— æ³•ä½¿ç”¨ã€‚",
                msg_db_load_error: "âš ï¸ åŠ è½½ç•™è¨€ç°¿æ•°æ®æ—¶å‘ç”Ÿé”™è¯¯ã€‚",
                msg_db_not_ready: "âš ï¸ æ­£åœ¨åŠ è½½ä¸­ã€‚è¯·ç¨åé‡è¯•ã€‚",
                msg_no_guestbook: "æˆä¸ºç¬¬ä¸€ä¸ªç•™ä¸‹ç¥ç¦çš„äººå§! âœ¨",
                msg_copy_success: "å¤åˆ¶æˆåŠŸ!",
                msg_copy_fail: "å¤åˆ¶å¤±è´¥! è¯·é•¿æŒ‰è´¦å·æ‰‹åŠ¨å¤åˆ¶ã€‚",
                msg_confirm: "ç¡®è®¤",
                msg_just_now: "åˆšåˆš",
                fortune_title: "å©šç¤¼å½“å¤©çš„è¿åŠ¿æŠ½ç­¾ ğŸ”®",
                fortune_btn: "æŸ¥çœ‹ä»Šæ—¥è¿åŠ¿!",
                fortune_placeholder: "ç¿»å¼€å¡ç‰‡æŸ¥çœ‹æ‚¨çš„å¹¸è¿!",
                celebration_label: "å·²æ”¶åˆ°ç¥ç¦ â¤ï¸",
                acc_groom_num: "3333-01-192595 (Kakao Bank)",
                acc_bride_num: "3333-06-0460803 (Kakao Bank)"
            }
        };

        let currentLang = 'ko'; // ê¸°ë³¸ ì–¸ì–´ëŠ” í•œêµ­ì–´
        let audio = null;
        let isMusicPlaying = false;

        // ìŒì•… í”Œë ˆì´ì–´ í† ê¸€
        window.toggleMusic = () => {
            if (!audio) return;
            const btn = document.getElementById('music-toggle-btn');
            if (isMusicPlaying) {
                audio.pause();
                isMusicPlaying = false;
                btn.classList.add('paused');
                btn.textContent = 'ğŸ”‡';
            } else {
                audio.play();
                isMusicPlaying = true;
                btn.classList.remove('paused');
                btn.textContent = 'ğŸ’¿';
            }
        };

        // ìŠ¤í”Œë˜ì‹œ í™”ë©´ í´ë¦­ ì‹œ ìŒì•… ì¬ìƒ ë° í™”ë©´ ì „í™˜
        window.closeSplash = () => {
            const splashScreen = document.getElementById('splash-screen');
            splashScreen.classList.add('hidden-splash');
            document.getElementById('main-content').style.opacity = 1;
            document.getElementById('main-content').style.transition = 'opacity 1s ease-in';
            
            // ìŒì•… ì‹œì‘ (Jahzzar - Siesta: ì‹ ë‚˜ê³  ê²½ì¾Œí•œ ê³¡)
            if (!audio) {
                audio = new Audio("https://cdn.jsdelivr.net/gh/sl2eper/wedding-assets@1f48e385e0b07130063b108e8110b06c10d0e506/wedding.mp3"); 
                audio.loop = true;
                audio.volume = 0.1;
            }
            
            audio.play().then(() => {
                isMusicPlaying = true;
                const btn = document.getElementById('music-toggle-btn');
                btn.classList.remove('paused');
                btn.textContent = 'ğŸ’¿';
            }).catch(e => {
                console.log("Autoplay prevented, will play on user interaction inside app", e);
            });
        };

        function switchLanguage() {
            currentLang = currentLang === 'ko' ? 'zh' : 'ko';
            document.documentElement.lang = currentLang;
            document.getElementById('lang-button').textContent = currentLang === 'ko' ? 'ä¸­æ–‡' : 'í•œêµ­ì–´';
            
            // ì–¸ì–´ ì „í™˜ ì‹œì—ë„ ìŠ¤í”Œë˜ì‹œê°€ ë‹«íˆì§€ ì•Šì•˜ë‹¤ë©´ ë‹«íˆì§€ ì•Šë„ë¡ ë¡œì§ ìˆ˜ì •
            renderContent();
        }
        window.switchLanguage = switchLanguage;

        function renderContent() {
            const t = translations[currentLang];
            
            document.getElementById('i18n-title').textContent = t.title;
            document.getElementById('splash-text').innerHTML = t.splash_text; 
            const hintEl = document.getElementById('splash-hint');
            if(hintEl) hintEl.textContent = t.splash_hint;

            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (t[key]) {
                    element.innerHTML = t[key];
                }
            });

            // ê³„ì¢Œ ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('account-groom-num').textContent = t.acc_groom_num;
            document.getElementById('account-bride-num').textContent = t.acc_bride_num;

            document.getElementById('guest-name').placeholder = t.guestbook_placeholder_name;
            document.getElementById('guest-message').placeholder = t.guestbook_placeholder_message;
            document.getElementById('guestbook-submit').textContent = t.guestbook_submit;
            
            document.getElementById('outfit-input').placeholder = t.outfit_input_placeholder;
            document.getElementById('outfit-btn-text').textContent = t.outfit_button;
            document.getElementById('outfit-closing-text').textContent = `"${t.outfit_closing}"`;

            document.getElementById('fortune-btn-text').textContent = t.fortune_btn;
            const fortuneResult = document.getElementById('fortune-result');
            if (!fortuneResult.classList.contains('hidden')) {
                document.getElementById('fortune-btn').classList.remove('hidden');
                fortuneResult.classList.add('hidden');
            }

            document.getElementById('celebration-label').textContent = t.celebration_label;

            document.querySelectorAll('.copy-btn').forEach(btn => btn.textContent = t.copy_button);
            document.getElementById('message-box-confirm').textContent = t.msg_confirm;

            generateLottoNumbers(t.lotto_note);
            generateLolChampion(t);

            setupGuestbookListener(t);
        }

        // í–‰ìš´ ë½‘ê¸° ê¸°ëŠ¥
        window.drawFortune = () => {
            const btn = document.getElementById('fortune-btn');
            const resultDiv = document.getElementById('fortune-result');
            const resultText = document.getElementById('fortune-text');
            
            let fortunes = [];
            if (currentLang === 'zh') {
                fortunes = [
                    "åœ¨è‡ªåŠ©é¤èƒ½æŠ¢åˆ°æœ€ç¾å‘³çš„èœï¼ğŸ–",
                    "ä¸æ–°éƒæ–°å¨˜å¯¹è§†ï¼Œå½©ç¥¨è¿åŠ¿ä¸Šå‡ï¼ğŸ‘€",
                    "ä»Šå¤©æ— è®ºåšä»€ä¹ˆéƒ½ä¼šé¡ºé¡ºåˆ©åˆ©ï¼âœ¨",
                    "å›å®¶çš„è·¯ä¸Šï¼Œä¸€è·¯ç»¿ç¯ï¼ğŸš¦",
                    "ä»Šå¤©ä¼šæ‹å‡ºäººç”Ÿç…§ç‰‡ï¼ğŸ“¸",
                    "åœ¨è¿™ä¸ªå©šç¤¼ä¸Šï¼Œå¯èƒ½ä¼šé‡åˆ°çè´µçš„ç¼˜åˆ†...ï¼ŸğŸ’–",
                    "ä»Šå¤©åƒçš„å¡è·¯é‡Œéƒ½æ˜¯0ï¼ğŸ°"
                ];
            } else {
                fortunes = [
                    "ë·”í˜ì—ì„œ ê°€ì¥ ë§›ìˆëŠ” ë©”ë‰´ë¥¼ ì„ ì í•˜ê²Œ ë©ë‹ˆë‹¤! ğŸ–",
                    "ì‹ ë‘ì‹ ë¶€ì™€ ëˆˆì´ ë§ˆì£¼ì¹˜ë©´ ë¡œë˜ ë‹¹ì²¨ ìš´ì´ ìƒìŠ¹! ğŸ‘€",
                    "ì˜¤ëŠ˜ ì™ ì§€ ëª¨ë¥´ê²Œ ëª¨ë“  ì¼ì´ ìˆ ìˆ  í’€ë¦´ ê±°ì˜ˆìš”! âœ¨",
                    "ëŒì•„ì˜¤ëŠ” ê¸¸, ì‹ í˜¸ë“±ì´ ëª¨ë‘ ì´ˆë¡ë¶ˆì¼ ê²ƒì…ë‹ˆë‹¤! ğŸš¦",
                    "ì˜¤ëŠ˜ ì°ì€ ì‚¬ì§„ì´ ì¸ìƒìƒ·ì´ ë  ì˜ˆì •! ğŸ“¸",
                    "ì´ ê²°í˜¼ì‹ì—ì„œ ê·€ì¸ì„ ë§Œë‚  ìš´ì„¸ì…ë‹ˆë‹¤...? ğŸ’–",
                    "ì˜¤ëŠ˜ ë¨¹ëŠ” ê±´ 0ì¹¼ë¡œë¦¬! ë§ˆìŒê» ë“œì„¸ìš”! ğŸ°"
                ];
            }

            const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
            
            btn.classList.add('hidden');
            resultDiv.classList.remove('hidden');
            resultDiv.classList.add('animate-bounce');
            resultText.textContent = randomFortune;
            
            createFloatingEmoji('ğŸ”®');
        };

        // í”Œë¡œíŒ… ì´ëª¨í‹°ì½˜ ìƒì„± í•¨ìˆ˜
        window.createFloatingEmoji = (emojiChar) => {
            const emoji = document.createElement('div');
            emoji.classList.add('floating-emoji');
            emoji.textContent = emojiChar || ['â¤ï¸', 'ğŸ‰', 'ğŸ¥‚', 'ğŸ’'][Math.floor(Math.random() * 4)];
            
            // Random position
            emoji.style.left = Math.random() * 80 + 10 + '%'; // 10% ~ 90% width
            emoji.style.bottom = '20px';
            
            document.body.appendChild(emoji);
            
            // Cleanup
            setTimeout(() => {
                emoji.remove();
            }, 2000);
        };

        // ì¶•í•˜ ì¹´ìš´íŠ¸ ì¦ê°€ ë° ì„œë²„ ì—°ë™ í•¨ìˆ˜
        window.handleCelebrate = async () => {
            createFloatingEmoji();
            const countElement = document.getElementById('celebration-count');
            countElement.classList.remove('count-bump');
            void countElement.offsetWidth; // trigger reflow
            countElement.classList.add('count-bump');

            if (!db) return;
            try {
                const countRef = doc(db, 'artifacts', appId, 'public', 'data', 'celebration_count');
                await setDoc(countRef, { count: increment(1) }, { merge: true });
            } catch (e) {
                console.error("Error updating celebration count:", e);
            }
        };

        // Function to generate lotto numbers
        function generateLottoNumbers(lottoNoteText) {
            const numbers = new Set();
            while (numbers.size < 6) {
                const randomNumber = Math.floor(Math.random() * 45) + 1;
                numbers.add(randomNumber);
            }
            const sortedNumbers = Array.from(numbers).sort((a, b) => a - b);
            
            const lottoContainer = document.getElementById('lotto-numbers');
            const getColorClass = (num) => {
                if (num <= 10) return 'bg-yellow-400 text-gray-800 border-yellow-500';
                if (num <= 20) return 'bg-blue-500 text-white border-blue-600';
                if (num <= 30) return 'bg-red-500 text-white border-red-600';
                if (num <= 40) return 'bg-gray-500 text-white border-gray-600';
                return 'bg-green-500 text-white border-green-600';
            };

            let numbersHtml = sortedNumbers.map(num => `
                <span class="lotto-ball inline-flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 font-bold text-lg rounded-full shadow-lg border-2 m-1 transition transform hover:scale-105 ${getColorClass(num)}">
                    ${num}
                </span>
            `).join('');

            lottoContainer.innerHTML = `
                <div class="flex flex-wrap justify-center mt-4">
                    ${numbersHtml}
                </div>
                <p class="text-xs text-gray-500 mt-4">${lottoNoteText}</p>
            `;
        }

        // AI Outfit Recommendation using Gemini
        window.recommendOutfit = async () => {
            const t = translations[currentLang];
            const inputVal = document.getElementById('outfit-input').value.trim();
            const resultArea = document.getElementById('outfit-result-area');
            const loadingArea = document.getElementById('outfit-loading');
            const btnText = document.getElementById('outfit-btn-text');
            const btnLoader = document.getElementById('outfit-btn-loader');

            if (!inputVal) {
                showMessageBox(t.msg_outfit_input_error, "error");
                return;
            }

            btnText.style.display = 'none';
            btnLoader.classList.remove('hidden');
            loadingArea.classList.remove('hidden');
            loadingArea.textContent = t.outfit_loading;
            resultArea.classList.add('hidden');

            const lang = currentLang === 'zh' ? 'Chinese' : 'Korean';
            const prompt = `
                You are a fashion stylist. Suggest a wedding guest outfit for a man and a woman based on the keyword: '${inputVal}'.
                Return ONLY a JSON object (no markdown code block) with these keys:
                - men_name: Name of the outfit (e.g., Navy Suit)
                - men_desc: Short description (1 sentence)
                - women_name: Name of the outfit
                - women_desc: Short description (1 sentence)
                Respond in ${lang}.
            `;

            const responseText = await callGemini(prompt);
            let matchedMen, matchedWomen;

            try {
                if (responseText) {
                    const jsonString = responseText.replace(/```json|```/g, '').trim();
                    const result = JSON.parse(jsonString);
                    matchedMen = { name: result.men_name, desc: result.men_desc };
                    matchedWomen = { name: result.women_name, desc: result.women_desc };
                } else {
                    throw new Error("No response");
                }
            } catch (e) {
                console.error("Gemini parsing error:", e);
                matchedMen = { name: t.outfit_default_men_name, desc: t.outfit_default_men_desc };
                matchedWomen = { name: t.outfit_default_women_name, desc: t.outfit_default_women_desc };
            }

            document.getElementById('outfit-men-result').innerHTML = `
                <div class="font-bold text-blue-800 mb-1">${matchedMen.name}</div>
                <div class="text-sm text-gray-600">${matchedMen.desc}</div>
            `;
            document.getElementById('outfit-women-result').innerHTML = `
                <div class="font-bold text-pink-700 mb-1">${matchedWomen.name}</div>
                <div class="text-sm text-gray-600">${matchedWomen.desc}</div>
            `;

            btnText.style.display = 'inline';
            btnLoader.classList.add('hidden');
            loadingArea.classList.add('hidden');
            resultArea.classList.remove('hidden');
        }
        
        // Function to recommend a random LoL champion
        function generateLolChampion(t) {
            const champions = [
                { key: "Garen", name: t.lol_name_garen || "ê°€ë Œ", role: t.lol_role_garen || "ì •ì˜ë¡œìš´", message: t.lol_msg_garen || "í˜ê³¼ ì¸ë‚´ì˜ ìƒì§•, ì •ì˜ë¡œìš´ ì‹ ë‘ì²˜ëŸ¼! ë¶€ë¶€ëŠ” ì•½ì†ì„ ì§€í‚µë‹ˆë‹¤." },
                { key: "Lux", name: t.lol_name_lux || "ëŸ­ìŠ¤", role: t.lol_role_lux || "ê´‘íœ˜ì˜", message: t.lol_msg_lux || "í™”ë ¤í•˜ê²Œ ë¹›ë‚˜ëŠ” ì‹ ë¶€ì²˜ëŸ¼, ê´‘íœ˜ë¥¼ ë°œì‚°í•˜ì„¸ìš”! í–‰ë³µì€ ëˆˆë¶€ì‹­ë‹ˆë‹¤." },
                { key: "Jinx", name: t.lol_name_jinx || "ì§•í¬ìŠ¤", role: t.lol_role_jinx || "íƒ€ê³ ë‚œ ë§ì½ê¾¸ëŸ¬ê¸°", message: t.lol_msg_jinx || "ìƒˆë¡œìš´ ì‹œì‘ì˜ ì„¤ë ˜ í­ë°œ! ì§€ë£¨í•  í‹ˆ ì—†ëŠ” ì‹ í˜¼ìƒí™œì´ ê¸°ë‹¤ë¦½ë‹ˆë‹¤." },
                { key: "Thresh", name: t.lol_name_thresh || "ì“°ë ˆì‰¬", role: t.lol_role_thresh || "ì˜í˜¼ì˜", message: t.lol_msg_thresh || "ì˜í˜¼ì˜ ì¡±ì‡„ë¡œ í‰ìƒ ì‚¬ë‘ì„ ë¬¶ì–´ë‘ì„¸ìš”. íƒˆì¶œì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. :)" },
                { key: "Ezreal", name: t.lol_name_ezreal || "ì´ì¦ˆë¦¬ì–¼", role: t.lol_role_ezreal || "íƒí—˜ê°€", message: t.lol_msg_ezreal || "ëª¨í—˜ ê°€ë“í•œ ë¯¸ë˜ë¥¼ í–¥í•´, ì‹ ë¹„ë¡œìš´ í™”ì‚´ì„ ì˜ì„¸ìš”. ëª¨ë“  ì‹œë ¨ì„ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
                { key: "Ahri", name: t.lol_name_ahri || "ì•„ë¦¬", role: t.lol_role_ahri || "êµ¬ë¯¸í˜¸", message: t.lol_msg_ahri || "ë§¤í˜¹ì ì¸ ì‚¬ë‘ìœ¼ë¡œ ìƒëŒ€ë¥¼ ì˜ì›íˆ ì‚¬ë¡œì¡ìœ¼ì„¸ìš”. ë§¤ë ¥ì€ ê³§ í–‰ë³µì…ë‹ˆë‹¤." },
                { key: "Teemo", name: t.lol_name_teemo || "í‹°ëª¨", role: t.lol_role_teemo || "ë‚ ìŒƒì€ ì •ì°°ë³‘", message: t.lol_msg_teemo || "ì¸ìƒì˜ ë²„ì„¯ë°­ì„ í•¨ê»˜ ê°€ê¿”ë‚˜ê°€ì„¸ìš”. ê³³ê³³ì— í–‰ë³µì´ ìˆ¨ì–´ìˆì„ ê±°ì˜ˆìš”!" }
            ];
            
            if (currentLang === 'zh') {
                const zhChampions = [
                    { name: "ç›–ä¼¦", role: "æ­£ä¹‰çš„", message: "åŠ›é‡ä¸å¿è€çš„è±¡å¾ï¼Œå¦‚åŒæ­£ç›´çš„æ–°éƒï¼å¤«å¦»åº”å½“ä¿¡å®ˆè¯ºè¨€ã€‚" },
                    { name: "æ‹‰å…‹ä¸", role: "å…‰è¾‰çš„", message: "å¦‚åŒå…‰èŠ’å››å°„çš„æ–°å¨˜ï¼Œå°½æƒ…é—ªè€€å§ï¼å¹¸ç¦å…‰å½©å¤ºç›®ã€‚" },
                    { name: "é‡‘å…‹ä¸", role: "æš´èµ°èè‰", message: "å¼€å¯æ–°ç¯‡ç« çš„å…´å¥‹æ„Ÿçˆ†æ£šï¼æ— èŠåœ¨ä½ ä»¬çš„æ–°å©šç”Ÿæ´»ä¸­æ˜¯ä¸å­˜åœ¨çš„ã€‚" },
                    { name: "é”¤çŸ³", role: "é­‚é”å…¸ç‹±é•¿", message: "ç”¨çµé­‚çš„æ·é”å°†çˆ±é”ä½ï¼Œä¸€ç”Ÿä¸€ä¸–ã€‚é€ƒè„±æ˜¯ä¸å¯èƒ½çš„ :)" },
                    { name: "ä¼Šæ³½ç‘å°”", role: "æ¢é™©å®¶", message: "å‘ç€å……æ»¡å†’é™©çš„æœªæ¥ï¼Œå°„å‡ºç¥ç§˜çš„ç®­ã€‚å¯ä»¥é¿å¼€ä¸€åˆ‡å›°éš¾ã€‚" },
                    { name: "é˜¿ç‹¸", role: "ä¹å°¾å¦–ç‹", message: "ç”¨é­…æƒ‘çš„çˆ±æ°¸è¿œä¿˜è·å¯¹æ–¹ã€‚é­…åŠ›å³æ˜¯å¹¸ç¦ã€‚" },
                    { name: "æè«", role: "è¿…æ·æ–¥å€™", message: "ä¸€èµ·è€•è€˜äººç”Ÿçš„è˜‘è‡ç”°ã€‚å¹¸ç¦å°†éšè—åœ¨å„ä¸ªè§’è½ï¼" }
                ];
                
                for(let i=0; i<champions.length; i++) {
                    champions[i].name = zhChampions[i].name;
                    champions[i].role = zhChampions[i].role;
                    champions[i].message = zhChampions[i].message;
                }
            }

            const randomIndex = Math.floor(Math.random() * champions.length); 
            const champion = champions[randomIndex];
            
            const lolContainer = document.getElementById('lol-champion');
            const imageUrl = `https://ddragon.leagueoflegends.com/cdn/img/champion/tiles/${champion.key}_0.jpg`;

            lolContainer.innerHTML = `
                <div class="p-4 border border-gray-200 rounded-lg bg-gray-50 shadow-inner">
                    <img src="${imageUrl}" 
                         onerror="this.src='https://placehold.co/80x80/2c3e50/ffffff?text=${champion.key}'"
                         alt="${champion.name} ì•„ì´ì½˜" 
                         class="w-20 h-20 rounded-full mx-auto mb-3 shadow-lg border-2 border-highlight-text object-cover transition transform hover:scale-110">
                    <p class="text-2xl font-bold mb-2">
                        <span class="text-highlight-text">${champion.name}</span>
                        <span class="text-sm ml-2 text-gray-500">(${champion.role})</span>
                    </p>
                    <p class="text-md text-gray-600">${champion.message}</p>
                </div>
            `;
        }

        // Firebase ì´ˆê¸°í™” ë° ì¸ì¦
        async function initializeFirebase() {
            const t = translations[currentLang];
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                    } else {
                        if (initialAuthToken) {
                            signInWithCustomToken(auth, initialAuthToken).catch(error => {
                                console.error("Custom token sign in failed:", error);
                                signInAnonymously(auth).then(user => userId = user.uid).catch(console.error);
                            });
                        } else {
                            signInAnonymously(auth).then(user => userId = user.uid).catch(console.error);
                        }
                    }
                    isAuthReady = true;
                    setupGuestbookListener(t);
                    setupCelebrationListener();
                });

            } catch (e) {
                console.error("Firebase initialization failed:", e);
                document.getElementById('guestbook-status').textContent = t.msg_auth_error;
            }
        }

        // [ì‹ ê·œ] ì¶•í•˜ ì¹´ìš´íŠ¸ ë¦¬ìŠ¤ë„ˆ
        function setupCelebrationListener() {
            if (!db) return;
            const countRef = doc(db, 'artifacts', appId, 'public', 'data', 'celebration_count');
            
            onSnapshot(countRef, (doc) => {
                if (doc.exists()) {
                    const data = doc.data();
                    const count = data.count || 0;
                    document.getElementById('celebration-count').textContent = count.toLocaleString();
                }
            });
        }

        // ë°©ëª…ë¡ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupGuestbookListener(t) {
            if (!db || !isAuthReady) return;

            const guestbookPath = `/artifacts/${appId}/public/data/wedding_guestbook`;
            const q = query(collection(db, guestbookPath), orderBy("timestamp", "desc"));
            const guestbookList = document.getElementById('guestbook-list');
            document.getElementById('guestbook-status').textContent = t.guestbook_loading;

            onSnapshot(q, (snapshot) => {
                guestbookList.innerHTML = '';
                document.getElementById('guestbook-status').textContent = '';
                if (snapshot.empty) {
                    guestbookList.innerHTML = `<p class="text-center text-gray-500 py-4">${t.msg_no_guestbook}</p>`;
                    return;
                }

                snapshot.forEach((doc) => {
                    const data = doc.data();
                    const item = document.createElement('div');
                    item.className = 'border-b border-gray-200 p-3';
                    const date = data.timestamp ? new Date(data.timestamp.seconds * 1000).toLocaleDateString('ko-KR') : t.msg_just_now;
                    
                    item.innerHTML = `
                        <div class="flex justify-between items-center text-sm mb-1">
                            <span class="font-semibold text-gray-800">${sanitizeHTML(data.name)}</span>
                            <span class="text-gray-400 text-xs">${date}</span>
                        </div>
                        <p class="text-gray-600 break-words whitespace-pre-wrap">${sanitizeHTML(data.message)}</p>
                    `;
                    guestbookList.appendChild(item);
                });
            }, (error) => {
                console.error("Error listening to guestbook: ", error);
                document.getElementById('guestbook-status').textContent = t.msg_db_load_error;
            });
        }

        // ë°©ëª…ë¡ ë©”ì‹œì§€ ì¶”ê°€
        window.submitGuestbook = async () => {
            const t = translations[currentLang];
            if (!db || !userId) {
                console.error("Database or User not ready.");
                document.getElementById('guestbook-status').textContent = t.msg_db_not_ready;
                return;
            }

            const nameInput = document.getElementById('guest-name');
            const messageInput = document.getElementById('guest-message');
            const name = nameInput.value.trim();
            const message = messageInput.value.trim();

            if (!name || !message) {
                showMessageBox(t.msg_input_error, "error");
                return;
            }

            try {
                const guestbookPath = `/artifacts/${appId}/public/data/wedding_guestbook`;
                await addDoc(collection(db, guestbookPath), {
                    name: name,
                    message: message,
                    timestamp: serverTimestamp(),
                    userId: userId 
                });

                showMessageBox(t.msg_submit_success, "success");
                nameInput.value = '';
                messageInput.value = '';

            } catch (e) {
                console.error("Error adding document: ", e);
                showMessageBox(t.msg_submit_error, "error");
            }
        };

        // HTML Sanitization utility
        function sanitizeHTML(str) {
            const temp = document.createElement('div');
            temp.textContent = str;
            return temp.innerHTML;
        }
        
        // DOM ë¡œë“œ í›„ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
        document.addEventListener('DOMContentLoaded', () => {
            const splashScreen = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');
            
            renderContent();

            if (Object.keys(firebaseConfig).length > 0) {
                initializeFirebase();
            } else {
                console.warn("Firebase config is missing. Guestbook feature will be disabled.");
                document.getElementById('guestbook-status').textContent = translations[currentLang].msg_db_error;
            }

            // [ìˆ˜ì •] ìë™ ë‹«í˜ ì œê±°, í´ë¦­ìœ¼ë¡œë§Œ ë‹«í˜ (ìŒì•… ì¬ìƒ ì •ì±… ë•Œë¬¸)
            /*
            setTimeout(() => {
                splashScreen.classList.add('hidden-splash');
                mainContent.style.opacity = 1;
                mainContent.style.transition = 'opacity 1s ease-in';
            }, 4000);
            */

            window.showMessageBox = (message, type) => {
                const messageBox = document.getElementById('message-box');
                const messageText = document.getElementById('message-text');
                messageText.textContent = message;
                if (type === 'success') {
                    messageText.classList.remove('text-red-500');
                    messageText.classList.add('text-green-600');
                } else if (type === 'error') {
                    messageText.classList.remove('text-green-600');
                    messageText.classList.add('text-red-500');
                } else {
                    messageText.classList.remove('text-green-600', 'text-red-500');
                    messageText.classList.add('text-gray-700');
                }
                messageBox.classList.remove('hidden');
            };

            window.hideMessageBox = () => {
                document.getElementById('message-box').classList.add('hidden');
            };

            window.copyToClipboard = (elementId, buttonElement) => {
                const t = translations[currentLang];
                const targetElement = document.getElementById(elementId);
                const textToCopy = targetElement.textContent.trim();
                const tempInput = document.createElement('textarea');
                tempInput.value = textToCopy;
                document.body.appendChild(tempInput);
                tempInput.select();
                let success = false;
                try {
                    document.execCommand('copy');
                    success = true;
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                }
                document.body.removeChild(tempInput);
                if (success) {
                    const originalText = t.copy_button;
                    buttonElement.textContent = t.msg_copy_success;
                    buttonElement.classList.add('bg-green-500', 'text-white');
                    buttonElement.classList.remove('bg-white', 'text-gray-800');
                    setTimeout(() => {
                        buttonElement.textContent = originalText;
                        buttonElement.classList.remove('bg-green-500', 'text-white');
                        buttonElement.classList.add('bg-white', 'text-gray-800');
                    }, 1500);
                } else {
                    showMessageBox(t.msg_copy_fail, 'error');
                }
            };
            window.changeVolume = (value) => {
    if (audio) {
        audio.volume = value;
    }
};
            
        });
        
    </script>
</head>
<body class="antialiased min-h-screen">

    <!-- [ì‹ ê·œ] ë®¤ì§ í”Œë ˆì´ì–´ ë° ì–¸ì–´ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ -->
    <div class="fixed top-0 left-0 right-0 max-w-md mx-auto z-40 p-4 flex justify-end items-center gap-2">
        <!-- ìŒì•… ë²„íŠ¼ -->
        <button id="music-toggle-btn" onclick="toggleMusic()" class="music-btn bg-white/80 text-gray-800 text-xl p-2 rounded-full shadow-lg transition duration-150 hover:bg-white border border-gray-200 w-10 h-10 flex items-center justify-center paused">
            ğŸ’¿
        </button>
        <input id="volume-slider" type="range" min="0" max="1" step="0.01"
       class="w-20"
       onchange="changeVolume(this.value)" />
        <!-- ì–¸ì–´ ë²„íŠ¼ -->
        <button id="lang-button" onclick="switchLanguage()" class="bg-yellow-500 text-white text-xs font-semibold py-2 px-3 rounded-full shadow-lg transition duration-150 hover:bg-yellow-600 h-10">
            ä¸­æ–‡
        </button>
    </div>

    <!-- ìš°ì¸¡ í•˜ë‹¨ í”Œë¡œíŒ… ì¶•í•˜ ë²„íŠ¼ ë° ì¹´ìš´í„° -->
    <div class="fixed bottom-4 right-4 z-50 flex flex-col items-end gap-2">
        <!-- ì¹´ìš´í„° ë§í’ì„  -->
        <div class="bg-white px-3 py-1 rounded-full shadow-md border border-gray-200 text-xs font-bold text-red-500 flex items-center gap-1 animate-bounce" style="animation-duration: 2s;">
            <span id="celebration-label">ì¶•í•˜í•´ìš”! â¤ï¸</span>
        </div>
        <!-- ë²„íŠ¼ -->
        <button onclick="handleCelebrate()" class="bg-red-500 hover:bg-red-600 text-white rounded-full p-3 shadow-2xl transition transform hover:scale-110 active:scale-95">
            <span class="text-2xl">ğŸ‰</span>
        </button>
    </div>

    <!-- 1. ì˜¤í”„ë‹ ìŠ¤í”Œë˜ì‹œ í™”ë©´ -->
    <div id="splash-screen" onclick="closeSplash()">
        <div id="splash-text" class="splash-text"></div> 
        <!-- í´ë¦­ íŒíŠ¸ -->
        <div id="splash-hint" class="click-hint"></div>
    </div>

    <!-- 2. ì²­ì²©ì¥ ë³¸ë¬¸ ì»¨í…Œì´ë„ˆ -->
    <div id="main-content" class="max-w-md mx-auto bg-white shadow-xl min-h-full" style="opacity: 0;">
        <!-- ... rest of the body content ... -->
        <main class="p-4 sm:p-6 text-center text-gray-800 pt-20">

            <!-- ê²°í˜¼ ì‚¬ì§„ (Placeholder) -->
            <div class="mb-8">
                <img src="https://cdn.jsdelivr.net/gh/sl2eper/wedding-assets@1f48e385e0b07130063b108e8110b06c10d0e506/wedding.jpg" 
                     onerror="this.src='https://placehold.co/400x550/b28c70/ffffff?text=ê²°í˜¼+ì‚¬ì§„+ìë¦¬'"
                     alt="ê²°í˜¼ ì‚¬ì§„" 
                     class="w-full h-auto rounded-xl shadow-lg object-cover mx-auto"
                     style="max-height: 550px;">
            </div>

            <!-- ë©”ì¸ ë¬¸êµ¬ -->
            <h1 data-i18n="main_title" class="text-3xl font-serif font-bold highlight-text mb-2">ìš°ë¦¬ ê²°í˜¼í•©ë‹ˆë‹¤!</h1>
            <p data-i18n="intro_text" class="text-md leading-relaxed mb-8 text-gray-600">
                ì–´ì©Œêµ¬ì €ì©Œêµ¬í•´ì„œ í‰ìƒì„ í•¨ê»˜í•  ì¸ì—°ì„ ë§Œë‚¬ìŠµë‹ˆë‹¤.<br>
                ì„œë¡œ ì•„ë¼ê³  ì‚¬ë‘í•˜ë©° ì•„ë¦„ë‹¤ìš´ ê°€ì •ì„ ì´ë£¨ê² ìŠµë‹ˆë‹¤.<br>
                ë”°ëœ»í•œ ë§ˆìŒìœ¼ë¡œ ì¶•ë³µí•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.
            </p>

            <!-- ì‹œê°„ ë° ì¥ì†Œ ì •ë³´ -->
            <div class="space-y-4 mb-10 border-t border-b border-gray-200 py-6">
                <div class="text-xl font-bold text-gray-800">
                    <span data-i18n="date_text" class="highlight-text">2025ë…„ 12ì›” 20ì¼ (í† )</span>
                </div>
                <div data-i18n="time_text" class="text-lg font-semibold text-gray-700">ì˜¤í›„ 1ì‹œ 00ë¶„</div>
                <div data-i18n="venue_text" class="text-lg font-semibold highlight-text">
                    ì‹ ë„ë¦¼ ì›¨ë”©ì‹œí‹° (3ì¸µ ê·¸ëœë“œë³¼ë£¸)
                </div>
            </div>
            
            <!-- í˜¼ì£¼ ì •ë³´ -->
            <div class="mb-10 text-sm text-gray-600 space-y-1">
                <p data-i18n="groom_bride" class="font-bold text-gray-800">ì‹ ë‘ ê¹€ì² ìˆ˜ â€¢ ì‹ ë¶€ ì´ì˜í¬</p>
                <p data-i18n="groom_parents">ì‹ ë‘ í˜¼ì£¼: ê¹€ì•„ë²„ë‹˜, ë°•ì–´ë¨¸ë‹˜</p>
                <p data-i18n="bride_parents">ì‹ ë¶€ í˜¼ì£¼: ì´ì•„ë²„ë‹˜, ìµœì–´ë¨¸ë‹˜</p>
            </div>

            <!-- ì°¾ì•„ì˜¤ì‹œëŠ” ê¸¸ -->
            <section class="mb-10 text-left">
                <h2 data-i18n="location_title" class="text-xl font-semibold highlight-text mb-3 text-center">ì°¾ì•„ì˜¤ì‹œëŠ” ê¸¸</h2>
                
                <div class="mb-4 text-center">
                    <p data-i18n="address" class="text-md font-medium text-gray-700">ì£¼ì†Œ: ì„œìš¸ êµ¬ë¡œêµ¬ ìƒˆë§ë¡œ 97 ì‹ ë„ë¦¼ í…Œí¬ë…¸ë§ˆíŠ¸ 11ì¸µ</p>
                </div>
                
                <!-- ë§µ ì˜ì—­ (Kakao Map Code ì ìš©) -->
                <div class="rounded-xl overflow-hidden mb-4 shadow border border-gray-200">
                    <!-- ì§€ë„ ì´ë¯¸ì§€ ë§í¬ -->
                    <a href="https://map.kakao.com/?urlX=475732&urlY=1113230&urlLevel=3&map_type=TYPE_MAP&map_hybrid=false"
                       target="_blank"
                       class="block">
                        <img src="https://staticmap.kakao.com/map/mapservice?FORMAT=PNG&SCALE=2.5&MX=475730&MY=1113230&S=0&IW=504&IH=310&LANG=0&COORDSTM=WCONGNAMUL&logo=kakao_logo"
                             alt="ì˜ˆì‹ì¥ ì§€ë„"
                             class="w-full h-auto object-cover"
                             style="border:0;">
                    </a>

                    <!-- ì§€ë„ í•˜ë‹¨ ì •ë³´ ë°” -->
                    <div class="bg-[#f9f9f9] p-2 flex justify-between items-center border-t border-[#dfdfdf] text-xs px-3">
                        <img src="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/logo_kakaomap.png"
                             width="72" height="16"
                             alt="ì¹´ì¹´ì˜¤ë§µ">
                        <a href="https://map.kakao.com/?urlX=475732&urlY=1113230&urlLevel=3&map_type=TYPE_MAP&map_hybrid=false"
                           target="_blank"
                           class="font-bold text-gray-800 hover:underline no-underline">
                            ì§€ë„ í¬ê²Œ ë³´ê¸°
                        </a>
                    </div>
                </div>

                <div class="text-sm text-gray-600 space-y-2 px-2">
                    <p data-i18n="directions_subway">â€¢ ì§€í•˜ì² : 1/2í˜¸ì„  ì‹ ë„ë¦¼ì—­ 2ë²ˆ ì¶œêµ¬ ë„ë³´ 3ë¶„</p>
                    <p data-i18n="directions_car">â€¢ ì£¼ì°¨: ì‹ ë„ë¦¼ í…Œí¬ë…¸ë§ˆíŠ¸ ì§€í•˜ì£¼ì°¨ì¥ ì´ìš© (B3~B7)</p>
                    <p data-i18n="directions_link" class="font-bold text-gray-700 mt-3">ìì„¸í•œ ë‚´ìš©ì€ ì§€ë„ ë§í¬ë¥¼ í´ë¦­í•´ì£¼ì„¸ìš”. ğŸ‘†</p>
                </div>
            </section>

            <!-- ì¶•í•˜ì˜ ë§ˆìŒ ì „ë‹¬í•˜ê¸° -->
            <section class="mb-10 pt-6 border-t border-gray-200">
                <h2 data-i18n="gift_title" class="text-xl font-semibold highlight-text mb-6 text-center">ì¶•í•˜ì˜ ë§ˆìŒ ì „ë‹¬í•˜ê¸°</h2>
                <div class="space-y-4">
                    <div class="bg-gray-50 p-4 rounded-xl shadow-sm border border-gray-200">
                        <p data-i18n="account_groom" class="font-bold text-lg mb-2 text-gray-800">ğŸ¤µ ì‹ ë‘ ê³„ì¢Œë²ˆí˜¸</p>
                        <div class="flex items-center justify-between space-x-2">
                            <!-- [ìˆ˜ì •] ê³„ì¢Œë²ˆí˜¸ ë³€ê²½ -->
                            <span id="account-groom-num" class="text-sm sm:text-base text-gray-600 font-mono select-all">000-000000-00-000 (êµ­ë¯¼ì€í–‰)</span>
                            <button onclick="copyToClipboard('account-groom-num', this)" class="copy-btn flex-shrink-0 bg-white hover:bg-gray-100 text-gray-800 font-medium py-1 px-3 rounded-full text-sm shadow transition duration-150 ease-in-out">
                                ë³µì‚¬
                            </button>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-xl shadow-sm border border-gray-200">
                        <p data-i18n="account_bride" class="font-bold text-lg mb-2 text-gray-800">ğŸ‘° ì‹ ë¶€ ê³„ì¢Œë²ˆí˜¸</p>
                        <div class="flex items-center justify-between space-x-2">
                            <!-- [ìˆ˜ì •] ê³„ì¢Œë²ˆí˜¸ ë³€ê²½ -->
                            <span id="account-bride-num" class="text-sm sm:text-base text-gray-600 font-mono select-all">000-000000-00-000 (ìš°ë¦¬ì€í–‰)</span>
                            <button onclick="copyToClipboard('account-bride-num', this)" class="copy-btn flex-shrink-0 bg-white hover:bg-gray-100 text-gray-800 font-medium py-1 px-3 rounded-full text-sm shadow transition duration-150 ease-in-out">
                                ë³µì‚¬
                            </button>
                        </div>
                    </div>
                    <!-- [ìˆ˜ì •] ê°€ìƒí™”í ì§€ê°‘ ì„¹ì…˜ ìˆ˜ì • -->
                    <div class="bg-gray-50 p-4 rounded-xl shadow-sm border border-gray-200">
                        <p data-i18n="crypto_wallet" class="font-bold text-lg mb-2 text-gray-800">â‚¿ ì‹ ë‘ ì•”í˜¸í™”í ì§€ê°‘</p>
                        <!-- EVM -->
                        <div class="mb-3">
                            <p class="text-xs font-bold text-gray-500 mb-1">EVM (Ethereum, etc.)</p>
                            <div class="flex items-center justify-between space-x-2">
                                <span id="crypto-evm" class="text-xs text-gray-600 font-mono break-all select-all">0x4b8414805d050df600d6934ed86104c97df3a44f</span>
                                <button onclick="copyToClipboard('crypto-evm', this)" class="copy-btn flex-shrink-0 bg-white hover:bg-gray-100 text-gray-800 font-medium py-1 px-3 rounded-full text-sm shadow transition duration-150 ease-in-out">
                                    ë³µì‚¬
                                </button>
                            </div>
                        </div>
                        <!-- TRX -->
                        <div>
                            <p class="text-xs font-bold text-gray-500 mb-1">TRX (Tron)</p>
                            <div class="flex items-center justify-between space-x-2">
                                <span id="crypto-trx" class="text-xs text-gray-600 font-mono break-all select-all">TZ42ec7NakwLwxStP2Ri1oaTk8DZJvFnUx</span>
                                <button onclick="copyToClipboard('crypto-trx', this)" class="copy-btn flex-shrink-0 bg-white hover:bg-gray-100 text-gray-800 font-medium py-1 px-3 rounded-full text-sm shadow transition duration-150 ease-in-out">
                                    ë³µì‚¬
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- AI ì¶•í•˜ ë©”ì‹œì§€ ì‘ê°€ ì„¹ì…˜ ì‚­ì œë¨ -->

            <!-- ë°©ëª…ë¡ ë‚¨ê¸°ê¸° -->
            <section class="mb-10 pt-6 border-t border-gray-200">
                <h2 data-i18n="guestbook_title" class="text-xl font-semibold highlight-text mb-6 text-center">ë°©ëª…ë¡ ë‚¨ê¸°ê¸°</h2>
                <div id="guestbook-status" class="text-center text-sm text-blue-500 mb-4" data-i18n="guestbook_loading">ë°©ëª…ë¡ ë¡œë”© ì¤‘...</div>
                <div class="bg-gray-50 p-4 rounded-xl shadow mb-6 border border-gray-200">
                    <div class="mb-3">
                        <label for="guest-name" class="sr-only">ì´ë¦„</label>
                        <input type="text" id="guest-name" data-i18n-placeholder="guestbook_placeholder_name" placeholder="ì´ë¦„ (ì˜ˆ: ì¹œêµ¬ í™ê¸¸ë™)" maxlength="20"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-highlight-text focus:border-highlight-text" required>
                    </div>
                    <div class="mb-4">
                        <label for="guest-message" class="sr-only">ì¶•í•˜ ë©”ì‹œì§€</label>
                        <textarea id="guest-message" rows="3" data-i18n-placeholder="guestbook_placeholder_message" placeholder="ë‘ ë¶„ì˜ ê²°í˜¼ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰" maxlength="200"
                                  class="w-full p-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-highlight-text focus:border-highlight-text resize-none" required></textarea>
                    </div>
                    <button id="guestbook-submit" onclick="submitGuestbook()" 
                            class="w-full bg-[#b28c70] hover:bg-[#a17f65] text-white font-bold py-2 rounded-lg transition duration-300 shadow-md">
                        ë©”ì‹œì§€ ë“±ë¡
                    </button>
                </div>
                <div id="guestbook-list" class="bg-white rounded-xl shadow overflow-hidden border border-gray-200">
                    <!-- ë°©ëª…ë¡ ì•„ì´í…œì´ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤. -->
                </div>
            </section>

            <!-- ê²°í˜¼ì‹ ë‚  ë‚˜ì˜ í–‰ìš´ ë½‘ê¸° ì„¹ì…˜ -->
            <section class="mb-10 pt-6 border-t border-gray-200 bg-white p-4 rounded-xl">
                <h2 data-i18n="fortune_title" class="text-xl font-semibold highlight-text mb-4 text-center">ê²°í˜¼ì‹ ë‚  ë‚˜ì˜ í–‰ìš´ ë½‘ê¸° ğŸ”®</h2>
                <div class="text-center">
                    <div id="fortune-result" class="hidden bg-purple-50 p-4 rounded-lg border border-purple-100 mb-4">
                        <p id="fortune-text" class="text-lg font-bold text-purple-800 break-keep"></p>
                    </div>
                    <button id="fortune-btn" onclick="drawFortune()" class="bg-purple-500 text-white px-6 py-3 rounded-full shadow-lg hover:bg-purple-600 transition transform hover:scale-105 font-bold cute-font text-xl">
                        <span id="fortune-btn-text">ì˜¤ëŠ˜ì˜ ìš´ì„¸ í™•ì¸í•˜ê¸°!</span>
                    </button>
                </div>
            </section>
            
            <!-- í–‰ìš´ì˜ ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œ ì„¹ì…˜ -->
            <section class="mb-10 pt-6 border-t border-gray-200 bg-white p-4 rounded-xl">
                <h2 data-i18n="lotto_title" class="text-xl font-semibold highlight-text mb-4 text-center">ì‹ ë‘ì´ ë“œë¦¬ëŠ” í–‰ìš´ ë²ˆí˜¸ âœ¨</h2>
                <div id="lotto-numbers" class="text-center">
                    <!-- ë¡œë˜ ë²ˆí˜¸ -->
                </div>
            </section>
            
            <!-- ì˜¤ëŠ˜ì˜ í•˜ê°ë£© ì¶”ì²œ AI ì„¹ì…˜ -->
            <section class="mb-10 pt-6 border-t border-gray-200 bg-white p-4 rounded-xl">
                <h2 data-i18n="outfit_title" class="text-xl font-semibold highlight-text mb-4 text-center">ì˜¤ëŠ˜ì˜ í•˜ê°ë£© ì¶”ì²œ (AI) ğŸ‘—</h2>
                
                <!-- ì…ë ¥ì°½ -->
                <div class="mb-4 flex gap-2">
                    <input type="text" id="outfit-input" 
                           class="flex-1 p-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-highlight-text focus:border-highlight-text"
                           placeholder="ìŠ¤íƒ€ì¼ ì…ë ¥ (ì˜ˆ: ë´„, í˜¸í…”, ì‹œí¬)">
                    <button onclick="recommendOutfit()" class="bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-yellow-600 transition flex items-center justify-center min-w-[80px] cute-font text-lg">
                        <span id="outfit-btn-text">ì¶”ì²œë°›ê¸°!</span>
                        <div id="outfit-btn-loader" class="loader hidden"></div>
                    </button>
                </div>

                <!-- ë¡œë”© ì˜ì—­ -->
                <div id="outfit-loading" class="text-center text-gray-500 text-sm py-4 hidden">
                    AIê°€ ì˜·ì¥ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...
                </div>

                <!-- ê²°ê³¼ ì˜ì—­ (ë‚¨ì„±/ì—¬ì„± ë™ì‹œ ì¶œë ¥) -->
                <div id="outfit-result-area" class="hidden">
                    <div class="grid grid-cols-2 gap-3 mb-4">
                        <!-- ë‚¨ì„± ì¶”ì²œ -->
                        <div class="bg-blue-50 p-3 rounded-lg border border-blue-100">
                            <div class="text-center mb-2">
                                <span class="text-3xl">ğŸ¤µ</span>
                                <p class="text-xs font-bold text-gray-500 mt-1" data-i18n="outfit_result_men">ë‚¨ì„± ì¶”ì²œ</p>
                            </div>
                            <div id="outfit-men-result" class="text-center"></div>
                        </div>
                        <!-- ì—¬ì„± ì¶”ì²œ -->
                        <div class="bg-pink-50 p-3 rounded-lg border border-pink-100">
                            <div class="text-center mb-2">
                                <span class="text-3xl">ğŸ‘©</span>
                                <p class="text-xs font-bold text-gray-500 mt-1" data-i18n="outfit_result_women">ì—¬ì„± ì¶”ì²œ</p>
                            </div>
                            <div id="outfit-women-result" class="text-center"></div>
                        </div>
                    </div>
                    <div class="text-center text-sm font-bold text-highlight-text">
                        <span id="outfit-closing-text"></span>
                    </div>
                </div>
            </section>

            <!-- ì˜¤ëŠ˜ì˜ LoL ì±”í”¼ì–¸ ì¶”ì²œ ì„¹ì…˜ -->
            <section class="mb-10 pt-6 border-t border-gray-200 bg-white p-4 rounded-xl">
                <h2 data-i18n="lol_title" class="text-xl font-semibold highlight-text mb-4 text-center">ì˜¤ëŠ˜ì˜ LoL ì±”í”¼ì–¸ ì¶”ì²œ âš”ï¸</h2>
                <div id="lol-champion" class="text-center text-gray-700">
                    <!-- ì±”í”¼ì–¸ ì¶”ì²œ ë‚´ìš© -->
                </div>
                <p data-i18n="lol_note" class="text-xs text-gray-500 mt-3 text-center">â€» ì˜¤ëŠ˜ì˜ ìš´ì„¸ë¥¼ LoL ì±”í”¼ì–¸ì—ê²Œ ë§¡ê²¨ë³´ì„¸ìš”!</p>
            </section>

            <!-- í‘¸í„° -->
            <footer class="text-xs text-gray-400 py-8 border-t mt-8 space-y-1">
                <p data-i18n="footer_copyright">Â© 2025. ì„íƒœìš© & ê³ íš¨ê²½. All Rights Reserved.</p>
                <p data-i18n="footer_thanks">ì €í¬ì˜ ìƒˆë¡œìš´ ì‹œì‘ì— í•¨ê»˜ í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</p>
            </footer>

            <!-- ì»¤ìŠ¤í…€ ë©”ì‹œì§€ ë°•ìŠ¤ (Alert ëŒ€ì²´) -->
            <div id="message-box" class="fixed inset-0 bg-black bg-opacity-50 hidden flex justify-center items-center z-50 transition-opacity duration-300">
                <div class="bg-white p-6 rounded-xl shadow-2xl max-w-xs w-full text-center">
                    <p id="message-text" class="text-gray-700 mb-4 font-semibold"></p>
                    <button id="message-box-confirm" onclick="hideMessageBox()" class="bg-highlight-text text-white py-2 px-6 rounded-lg hover:bg-highlight-text/90 transition duration-150">í™•ì¸</button>
                </div>
            </div>
            
        </main>
    </div>
</body>

</html>







